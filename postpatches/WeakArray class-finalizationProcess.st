'From Squeak4.3 of 16 August 2012 [latest update: #12182] on 20 August 2012 at 5:04:44 pm'!!WeakArray class methodsFor: 'private' stamp: 'dtl 12/23/2011 10:19'!finalizationProcess	| initialized |	initialized := false.	[FinalizationSemaphore wait.	initialized ifFalse: ["check VM capability once at image startup time"		WeakFinalizationList initTestPair.		Smalltalk garbageCollect.		WeakFinalizationList checkTestPair.		initialized := true].	FinalizationLock critical:		[FinalizationDependents do:			[ :weakDependent |			weakDependent ifNotNil:				[weakDependent finalizeValues]]]		ifError:		[:msg :rcvr | rcvr error: msg]] repeat! !